<!--yml
category: 社会工程
date: 2022-06-24 11:01:07
-->

# 社会工程学：黑客必须具备的反侦察能力 | 点滴之间 聚沙成金

> 来源：[http://www.path8.net/tn/archives/794](http://www.path8.net/tn/archives/794)

什么是反查技术?即反侦查技术。在黑客攻击中，最重要的一部分不是成功侵入主机，而是清除痕迹，不要让管理者发现被侵入及数据被伪造。同理，社会工程学也 有这样的概念，那么，我们得清除哪些痕迹以免遭网络警察(以下称之为网警)的发现?这一部分我们从网警角度来看问题，看看他们如何来能否找到社会工程师的 蛛丝马迹。或者一句玩笑话：他们无法那么轻松找到一点痕迹。这里我们以案例来讲解，请注意，这是虚拟案例，不当之处，敬请指正。

**现场**

<<谁动了企业的数据?>>　数据存储服务部　小张

小张正忙着登记取出数据的客户，这时内线突然响起。

小张：你好，数据存储服务部。

小王：我是数据存储后期服务部小王，我们前台计算机出现故障，呃，我需要你们的需助。

小张：我可以知道你的员工ID吗?

小王：嗯，ID是97845。

小张：我能帮助你什么?

小王：我们网络出现故障，我需要你把XX企业数据复印一份，然后放在二楼客户接待柜台，我们的人会取的。

小张：好的，现在身旁还有一大批的事，我马上给你送去。

一如攻击者所想，他很如愿拿到某企业内部数据，并将其公布到网上。这使该企业受到严重经济损失，他们开始向网警报案。然而，没有一切线索，电话是企业的 内线，而那个所谓的小王根本不存在，数据存储服务器更是完好无损，迫不得已，他们开始设法从网上流传的企业数据追查IP来源，然而数据是经过多重路由传 输，且经过了加密，案件陷入了绝境。相信小菜们一定有三个疑点：1.攻击者如何知道内线号码?2.攻击者为何有某员工ID?3.攻击者使用什么方法隐藏了 IP?这很简单，如果你去医院看过病，一定会注意墙上的主治医师名单，上面标有ID，联系方式，及所在楼层房号，医院的目的在于更佳完善为患者提供服务。 同样，数据存储公司也设了这样的名单。然而，这个案例里的小王没有进入数据存储服务公司，而是付了一部分费用给垃圾处理公司，允许他从中寻找一些东西，而 攻击者寻找的是一份旧的员工联系名单，旁边也附了内线号码。

IP如何隐藏的呢?我们看看四种方式传输日 志：1.直接IP，2.ADSL拨号，3.代理，4，随机路由传输。这里给小菜讲解下，直接IP即拥有公网IP，发表的日志也显示真实的IP，我不推荐这 种做法。ADSL上网，ISP会记录下这个IP地址是在哪个特定时间由哪个电话号码上线，你认为这仍然安全吗?代理上网安全么?如果提供代理的主人或是代 理服务商与网警妥协，关键是在于网警们有耐心与代理服务商协商。随机路由传输，每次请求传输信息都会透过随机路由进行的每一连串步骤都是经过加密的。此 外，在这一连串传输线上的每部电脑都只会知道最邻近的的几台电脑地址，换言之，路由器B只知道路由器A经过它传输网页，而这个传输请求可能又经过路由器C 代转。所以，你认为网警能从中找到一丝头绪么?

接下来我们来了解网警的在干什么?他们的技术能否对抗社会工 程学师。如果读者寻找一些关于计算机取证技术方法及工具研究，我想你会找到最主要的信息，那就是他们重心在于入侵监测系统、数据恢复、加密破解、反向工程 技术以及计算机取证软件工具的使用。然而，他们忽略了人为的因素，社会工程学师的奇妙之处在于从人、规章寻找致命的漏洞。且现在面对社会工程学师的攻击防 护仍然是网络安全课程的一片空白，当这种攻击趋入严重的状态，这成了网络安全专家首要考虑的问题。然而更令人吃惊的是，网警偶而会发现攻击源来自于他们内 部。现在有一些媒体神化了网警，比如一次行动网警现场在网吧抓获攻击者，这并没有什么特别之处，而在于那位攻击者没有隐藏IP，使用的是公用电脑，这对于 网警来说更容易确定IP源。行为

你相信测谎仪么?不，我拒绝相信!说出这类话的只有两类人，一类是心理学家，另一类便是**社会工程学师**。

这里，我们开始从典型案例说起，那就是广为人知的警’察抓小偷的故事。我们比较关注的是，警察依靠什么条件来分析谁最像小偷呢?人群中的小偷如何让自已 化为一缕空气?这很简单，一旦监控器里的人符合两个明显特征：贼眉贼眼、东张西望，他们以此来判断。小菜们一定碰到过所谓的算命师，他们有种不凡的能力便 是，从你的衣着、行为、言语判断你从事何种工作，遇到哪种烦恼。不错，小菜们一定能猜到我想说的：行为能反映人的状态。

OK，现在我们来谈谈现实与网络里的人的行为。从前面说知，行为能反映人，一旦我们将行为改变呢?北方人操起南方人的口气，不仅衣着举止投足都是一个活 生生的南方人，你认为可能吗?当然能，小菜们一定也会列举一些刘德华、张学友等等N多演员，社会工程学里的“伪装”在明星的眼中是“演技”的说法，“演 技”人人都会，一旦经过简单的培训，所表现的行为能躲过人的眼睛，小菜们一定认为不可思议，下面给你们一个作业，很简单，和家里人开一个玩笑。模仿你父亲 的说话方式给你的妈妈打一个电话，至于目的是什么便自已想了。是的，这稍微会有些难度，那就是口音伪装，社会工程学师才不会在意，随便在网上下载一种变声 软件，将所说的话经过变声软件转换输出。嗯?社会工程学师常用的软件或是道具是什么呢?小菜一定这样问，这很简单，只要社会工程学师手上有某物体，他们便 会设法利用。

最后一个要求便是心理素质，测谎议依据你的说话声音音调以及生理状态作为判断条件，当我们以测 谎仪程序的漏洞来测试时，便会出现错误的结果，为什么杀人犯偶尔无法通过测谎仪呢?他们的心情处于极度紧张状态，每一次的回答绝对会打乱他们的心境。社会 工程学师在这一方面具有较强的心理素质，若网警找不到一丝证据，主动权仍在于他的手上。

网络世界的人又是什 么样的呢?小菜肯定为想找一位技术高超的师父来学习，可是只能看见他们在网络里表现非凡的才能，却无法找到他们的联系方式，幸运的一点可能还会被拒之门 外，看完本部分开始和高手们开一个小小的玩笑吧。关于“高手”一词，我们得从金庸的武侠名著说起，大师级以上的高手一般会有独门功夫，中级的都设法争夺武 林盟主，低纸以下的都是配角了，简单的举例大家都明白高手是什么概念了，中级的一般都会留下名号，不然江湖里的人不知道那就太枉了，大师级的呢一般都是经 过N年后故事来传播的，至于菜鸟级的嘛，先买<<黑客X档案>>真经的话3年后就能达到中级，再N年就能达到大师级了，然 后….呵，扯远了。

武侠里的生活与现实相关，而现实的生活又与网络相关，或说他们有所区别，那只是因为所处的环境不同，但决定性的因素还是人。接下来我们通过几步简单的手法，来一个高手与菜鸟的游戏。准备工作:IM(QQ、MSN、Gtalk)、火狐浏览器(防止一些放马的站点)

**第一步:寻找目标。**这可不能瞎找哦，说话牛头不对马嘴的很快就会被对方踢进黑名单的。小菜可以从这里入手:比如黑X里的作者、论坛、博客，或者一些以原创类性质的站点。

**第二步:行为分析。**这很简单，从目标的作品与言论看出技术水平，以及心理状态，这决定了虽然不能谈论技术但可以成为朋友。

**第三步:直捣黄龙。**直 接去加为好友，小菜认为有点难度，不是的哦，非常的简单。如果你以杂志上作者名放到QQ寻找好友的一个以昵称寻找好友的功能，比如我们拿”旭方”来寻找， 接下来估计哥们得揍我了(小菜问:旭方是什么?嘿嘿，翻翻后面的几期杂志就明白了)。接下来是论坛，这更简单了，符合金庸的中级侠士定义了，一般他们作品 都会留下邮箱、博客，如果点击论坛个人资料，也会看到QQ的，没有?那打开博客来看东西吧，咦?只有几篇看不懂的文章与友情链接嘛，骗人!小菜大骂。如果 我们仔细一点，QQ联系仍躲在暗处哦，友情链接打开看看吧，正巧有他的一个哥们留下联系方式了，于是我们一个简单的冒称便弄到目标Q号了。

**第四步:复制身份。**这 里是关键了，有的可是设置了身份验证的，首先利用QQ寻找好友的功能把号码填入，查看个人资料。留心他们的个性签名与说明，如果有正在找工作，小菜就把身 份改成大企业，如果有的是专于技术，小菜就把身份改成xx工程师….以此类推，成功率满高啦，被拒绝了估计人品有问题了。

好啦，行为分析虽小，但五脏俱全。而且偶的Q号可以用上面的方法找到，透露下，菜鸟们也能直接在书上找到黑X编辑的Q号，至于怎么找嘛….说了这么多，反侦查技术也包含在其中了，攻击者的行为该如何进行伪装。

网络里，能泄露你的隐私主要是:论坛、博客、IM(即QQ、MSN、Gtalk)，当然，社会工程学师的一切注册信息都是伪造的，因为任何一丝敏感信息 都会给网警一个切入点。至于侵入服务器之类的，他们有时宁愿打一个电话套取密码，也不愿用侵入的动作在主机留下太多的日志，这增加了取证的难度。对这种稍 闪即逝的攻击，能留下的痕迹少之又少，在未来的几年，调查取证仍是一个难以解决的问题。

反侦查，后门问题。既然侵入主机会留下后门，社会工程学师的攻击不会留有后门吗?答案是确定的。那些后门偶尔会是很简单，他们会在暗处看事态的发展，偶尔会介入制造动作打乱方案。